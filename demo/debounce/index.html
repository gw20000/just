<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      .trigger-btn{
          padding: 5px;
          margin: 60px auto 0px;
          width: 100px;
         height: 25px;
         line-height: 25px;
         background-color: greenyellow;
         border: 1px solid black;
         border-radius: 6px;
         text-align: center;
         overflow: hidden;
         white-space: nowrap;
         text-overflow: ellipsis;
      }
    </style>
</head>
<body>
    <div class="trigger-btn"  >click to trigger</div>

    <script type="module" >
        import myDebounce2 from  "./myDebounce.js"
        function sayHello(){
            console.log("hello");
        }
        // sayHello();

        const debounceSayHello = myDebounce2(sayHello,2000);
        // ðŸŒˆå¯¹promiseä¸²è”çš„ç†è§£: 
    //   promiseæœ‰ æœªå†³é˜¶æ®µ å’Œ å·²å†³é˜¶æ®µ 2ä¸ªé˜¶æ®µ 
    //  ç¬¬ä¸€ä¸ªpromiseçš„æ•´ä¸ªé˜¶æ®µä½œä¸ºåŽç»­promiseçš„æœªå†³é˜¶æ®µï¼Œ
    //ä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€ä¸ªpromiseå·²å†³é˜¶æ®µç»“æŸä¹‹åŽï¼ŒåŽç»­promiseå°±è¿›å…¥å·²å†³é˜¶æ®µï¼Œ
   // æ¢å¥è¯è¯´ï¼Œ ç¬¬ä¸€ä¸ªpromiseå¤„ç†å®Œäº†ï¼Œ å®ƒåŽç»­promiseï¼ˆç¬¬äºŒä¸ªpromiseï¼‰å¯¹ç¬¬ä¸€ä¸ªpromiseçš„å¤„ç†ç»“æžœåšè¿›ä¸€æ­¥å¤„ç†ã€‚

//    åŒæ ·çš„ï¼Œ ç¬¬ä¸‰ä¸ªpromiseçš„æœªå†³é˜¶æ®µæ˜¯ï¼Œ ç¬¬äºŒpromiseçš„æ•´ä¸ªé˜¶æ®µï¼Œ
//    ä¹Ÿå°±æ˜¯è¯´ï¼Œ ç¬¬äºŒä¸ªpromiseå·²å†³é˜¶æ®µç»“æŸä¹‹åŽï¼Œç¬¬ä¸‰ä¸ªpromiseå°±è¿›å…¥å·²å†³é˜¶æ®µï¼Œ
      // æ¢å¥è¯è¯´ï¼Œ ç¬¬2ä¸ªpromiseå¤„ç†å®Œäº†ï¼Œ å®ƒçš„åŽç»­promiseï¼ˆç¬¬ä¸‰ä¸ªpromiseï¼‰å¯¹ç¬¬äºŒä¸ªpromiseçš„å¤„ç†ç»“æžœåšè¿›ä¸€æ­¥å¤„ç†ã€‚

    //   ä¾æ¬¡ç±»æŽ¨.....


            // debounceSayHello()
            // .then(()=>debounceSayHello()) //è¿™é‡Œ return promise  å’Œ ä¸ return promise è¿˜æ˜¯å¾ˆæœ‰åŒºåˆ«çš„ : 
             // åŒºåˆ«ï¼š åŽç»­primiseçš„çŠ¶æ€ å°†ç”± å½“å‰promiseçš„ å·²å†³é˜¶æ®µä¸­return çš„promiseçŠ¶æ€å†³å®šï¼Œå› æ­¤ï¼ŒåŽç»­promiseä½•æ—¶è¿›å…¥å·²å†³é˜¶æ®µï¼Œè¦ç­‰å¾…çš„æ—¶é—´ å¯èƒ½ä¼š è¶…è¿‡ duration
            // .then(()=>debounceSayHello());
          

        //    const excuteStack = async ()=>{
        //        await debounceSayHello();
        //        await debounceSayHello();
        //        await debounceSayHello();
        //    }

        //    excuteStack();


    //äº‹ä»¶å¤„ç†å‡½æ•°
    const trigger = ()=>{
        debounceSayHello();
    }
    
    //æ³¨å†Œäº‹ä»¶
  const triggerBtn = document.querySelector('.trigger-btn');
      
       triggerBtn.addEventListener('click',trigger);
     
    </script>

 <!-- ç”¨Proxy ä»£ç† ä¸€ä¸ªå¯¹è±¡ ï¼Œå¯¹è±¡æœ‰ä¸ªcountå±žæ€§ï¼Œä»£è¡¨ç‚¹å‡»æ¬¡æ•°ï¼Œç‚¹å‡»çš„æ—¶å€™é‡æ–°ç»™countèµ‹å€¼è®°å½•ç‚¹å‡»æ¬¡æ•°ï¼Œ å¹¶  åŒæ—¶ é€šè¿‡Proxy å’Œ Reflect å°†countçš„å€¼æ¸²æŸ“åˆ°é¡µé¢ã€‚ -->
</body>
</html>